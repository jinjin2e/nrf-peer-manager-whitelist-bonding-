# nrf-peer-manager-whitelist-bonding- 개념정리


## 1. Peer Manager
Peer Manager는 nRF5 SDK에서 페어링 및 본딩과 관련된 모든 데이터를 관리하고 저장하는 모듈입니다. 이 모듈은 BLE 연결 시 페어링된 장치들의 보안 정보를 관리하는 데 중추적인 역할을 합니다.  

Peer Manager의 주요 기능:  
```
Bonding (본딩): 페어링된 장치의 보안 정보를 저장하여, 다음 연결 시에 페어링 과정을 생략하고 바로 연결할 수 있게 합니다.  
Whitelist 관리: 본딩된 장치들의 주소를 사용하여 화이트리스트에 장치들을 추가하거나 관리할 수 있습니다.  
보안 관리: 페어링된 장치들과의 보안 연결을 관리하며, 페어링된 장치들의 암호화 키, ID 키 등을 관리합니다.  
페어링 정보 삭제: 저장된 본딩 정보를 삭제하거나 특정 장치와의 페어링을 해제할 수 있습니다.   
즉, Peer Manager는 페어링 및 본딩 정보 전체를 관리하고, BLE 보안의 중심 역할을 합니다.  
```
## 2. Whitelist  
Whitelist는 BLE 장치가 광고를 시작하거나 연결 요청을 받을 때, 연결을 허용할 장치들의 리스트입니다. Whitelist에 등록된 장치들만 해당 BLE 장치와 연결을 시도할 수 있습니다. 일반적으로 이미 페어링된 장치들만 다시 연결할 수 있도록 화이트리스트를 설정합니다.  

Whitelist의 주요 특징:  
```
장치 필터링: 화이트리스트에 등록된 장치들만 광고를 볼 수 있거나 연결 요청을 보낼 수 있습니다.   
보안 향상: 지정된 장치들만 다시 연결할 수 있도록 제한함으로써 보안을 강화할 수 있습니다.  
광고 필터링: BLE 광고 시 ble_gap_adv_params_t 구조체의 filter_policy 필드를 사용하여, 광고와 스캔 요청을 화이트리스트에 등록된 장치들만 볼 수 있게 할 수 있습니다.  
Whitelist는 Peer Manager에 의해 관리될 수 있으며, 본딩된 장치들만 화이트리스트에 추가할 수 있습니다.  
```

## 3. Bonds (본딩)  
**Bonding(본딩)**은 BLE에서 두 장치가 페어링을 완료한 후, 페어링 정보를 영구적으로 저장하는 과정입니다. 본딩이 이루어지면, 이후 연결할 때마다 다시 페어링 과정을 거치지 않고 바로 연결할 수 있습니다.  

Bonding의 주요 특징:  
```
보안 정보 저장: 장치 간 교환된 암호화 키, ID 정보, 보안 키 등은 본딩 후에 영구적으로 저장됩니다.   
빠른 재연결: 본딩된 장치는 이후 연결 시에 보안 정보를 재사용하여 페어링 없이 빠르게 연결됩니다.
페어링과 본딩의 차이: 페어링은 두 장치가 보안 키를 교환하는 절차이고, 본딩은 이 정보를 저장하는 단계입니다.
```
차이점 요약  
개념	설명	주요 역할  
```
Peer Manager	페어링 및 본딩 정보를 관리하고 저장하는 SDK 모듈입니다.	본딩 정보, 페어링 데이터 관리, 보안 관리
Whitelist	광고 또는 연결 요청을 받을 장치를 제한하는 리스트입니다. 페어링된 장치들만 연결하도록 제한할 때 주로 사용됩니다.	광고/연결 필터링, 보안 강화 (특정 장치들만 연결 허용)
Bonds	페어링 정보를 영구적으로 저장하여 이후 연결에서 보안 정보를 재사용할 수 있도록 합니다.	보안 정보 저장, 빠른 재연결 (페어링 과정을 생략하고 바로 연결 가능)
관계
```
```
Peer Manager는 본딩된 장치들의 정보를 관리하며, 이 정보를 기반으로 Whitelist에 추가할 수 있습니다.
Bonding은 페어링된 장치의 보안 정보를 저장하는 과정이며, Peer Manager에 의해 관리됩니다.
Whitelist는 본딩된 장치들만 다시 연결을 허용할 때 자주 사용되며, Peer Manager에 의해 관리될 수 있습니다.
이러한 개념들은 BLE에서 보안 및 장치 관리의 핵심 요소로 작동하며, 서로 유기적으로 연결되어 BLE 연결의 안정성과 보안을 강화합니다.
```
